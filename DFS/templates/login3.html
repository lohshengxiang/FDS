{% extends "base.html" %}

{% block content %}
<div class="column is-4 is-offset-4">
    <h3 class="title">Login</h3>
    {% if boolean %}
    <h2 class = "subtitle"> You need an account to order. </h2>
    {% endif %}
    <div class="box">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="notification is-danger">
                {{ messages[0] }}
            </div>
        {% endif %}
        {% endwith %}
        <form method="POST">
            <div class="field">
                <p class="control">
                {{ form.csrf_token }}
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <input class="input" type="text" placeholder= "Username" name = "username" value = "{{ request.form.username }}">
                    <!-- {{ form.username.label }}
                    {{ form.username }} -->
                            <ul>
                                {% for error in form.username.errors %}
                                    <li style = "color: red; font-style: courier; font-size: 80%;  ">{{ error }}</li> 
                                    <!--for each error, output the error string -->
                                {% endfor %}
                            </ul>

                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <input class="input" type="password" placeholder= "Password" name = "password" value = "{{ request.form.password }}">
                    <!-- {{ form.username.label }}
                    {{ form.username }} -->
                            <ul>
                                {% for error in form.password.errors %}
                                    <li style = "color: red; font-style: courier; font-size: 80%;  ">{{ error }}</li> 
                                    <!--for each error, output the error string -->
                                {% endfor %}
                            </ul>

                        </div>
                    </div>
                    <div class= "buttons has-addons is-left">
                        <button class="button is-block is-info is-medium" type = "submit">Login</button>
                    </div>

                </p>
            </div>
        </form>
    </div>
    <h2 class="subtitle">New user? Sign up <a style="font-weight:bold" href = "/registration">here</a>!</h2>
</div>
{% endblock %}